"""미션 스텝 생성을 위한 프롬프트 템플릿."""

from langchain_core.prompts import ChatPromptTemplate


class MissionStepPrompts:
    """미션 스텝 생성을 위한 프롬프트 템플릿 클래스."""
    
    def create_prompt_template(self) -> ChatPromptTemplate:
        """프롬프트 템플릿 생성."""
        system_prompt = """사용자의 미션을 분석하여 구체적이고 실행 가능한 단계별 미션 스텝을 제안하는 AI입니다.

        각 미션 스텝은 title, seq, detail 필드를 반드시 포함해야 합니다."""

        user_prompt = """
        부업 정보: 
        - 제목: {side_job_title}
        - 설명: {side_job_description}
        
        미션 정보:
        - 제목: {mission_title}
        - 설명: {mission_description}
        - 메인퀘스트 단계: {order_no}

        아래는 메인퀘스트 {order_no}에 해당하는 스텝 가이드입니다. 이를 참고하여 부업에 걸맞는 5개의 순차적인 미션 스텝을 생성하세요. 
        각 스텝은 title, seq, detail 필드를 포함하고, 구체적이고 실행 가능해야 합니다.
        괄호 안은 미션 스텝을 생성하기 위한 가이드로 이를 참고하되 더 자세한 설명과 새로운 방법으로 작성해 주세요.

        --- 가이드라인 ---
        - **메인퀘스트 1단계 : 채널을 개설하고 기본 세팅을 완료한 후 방향성을 기획한다**
        1. **플랫폼별 계정 개설 및 프로필 세팅**
            
            (닉네임, 프로필 사진, 채널명, 소개글, 배너 등 계정 개설 후 프로필 세팅을 완료하세요.)
            
        2. **콘텐츠 카테고리·주제 기획**
            
            (예: 직장인 재테크, 대학생 브이로그, 육아와 같이 주제가 명확하면 좋습니다.)
            
        3. **타깃 정의 및 업로드 플랫폼 선정**
            
            (메인 플랫폼을 우선 정하고, 보조 홍보용으로 함께 운영할 한두 개의 플랫폼도 추가하면 좋습니다.)
            
        4. **벤치마킹 채널/계정 분석**
            
            (성공 사례 채널들을 분석하고, 인기 콘텐츠의 특징을 파악한 뒤 차별화 포인트를 기획하세요.)
            
        5. **콘텐츠 제작 리소스 준비**
            
            (콘텐츠 제작에 필요한 준비물들을 서치하고 준비하세요. 예 : 편집 툴, 디자인 템플릿 등)
            

    ---

    - **메인퀘스트 2단계 : 처음 10개의 콘텐츠를 기획, 제작, 업로드한다**
        1. **콘텐츠 주제 아이디어 발상 및 구체화**
            
            (선정한 주제와 타깃을 기준으로 최신 트렌드를 반영한 아이디어를 짜고 내용을 구체화해보세요.)
            
        2. **콘텐츠 제작 프로세스 설계 및 루틴 구축**
            
            (기획→제작→업로드 루틴을 짜고, 주기적 업로드 일정을 계획하세요.)
            
        3. **10개의 구체적인 기획 및 대본(내용) 작성**
            
            (각 콘텐츠의 흐름, 핵심 메시지, 전달 방식 등을 꼼꼼히 신경 써서 준비하세요.)
            
        4. **경쟁 채널 콘텐츠와 비교·분석 및 퀄리티 업그레이드**
            
            (유사 채널의 인기 콘텐츠를 분석해 제목·구성·비주얼 등을 비교하고, 내 콘텐츠 시안에 반영해 개선하세요.)
            
        5. **10개의 콘텐츠 업로드 완료**
            
            (최종 점검을 거친 뒤 업로드하세요.)
            

    ---

    - **메인퀘스트 3단계 20개의 콘텐츠를 업로드하며 초기 시청자 유입 활동을 실행한다**
        1. **커뮤니티·외부 채널 공유**
            
            (카페, 사이트, 오픈채팅방, 지인 네트워크, SNS 스토리 등 외부 채널에 적극적으로 공유하세요.)
            
        2. **다른 플랫폼·채널 동시 활용**
            
            (유튜브/블로그/인스타/쇼츠/릴스 등 여러 플랫폼에 맞게 재가공·동시 업로드해 노출 범위를 넓히세요.)
            
        3. **댓글 소통·크리에이터 교류 활동 강화**
            
            (댓글 작업을 통해 소통과 반응을 늘리고, 비슷한 분야의 활동가와 팔로우·친구 맺기를 하며 상호작용을 확대하세요.)
            
        4. **트렌드 분석·적용하며, 20개의 구체적인 콘텐츠 기획 및 대본(내용) 작성**
            
            (트렌드 반영 여부, 차별화 포인트, 전달 방식 등을 꼼꼼히 반영해 기획하세요.)
            
        5. **20개의 콘텐츠 업로드 완료**
            
            (최종 점검 후 업로드하세요.)
            

    ---

    - **메인퀘스트 4단계 35개의 콘텐츠를 업로드하며 콘텐츠 품질과 채널 영향력을 강화한다**
        1. **반응 좋은 콘텐츠 분석 및 강점 강화**
            
            (업로드한 콘텐츠 중 조회·참여율이 높은 유형을 분석해 내 채널의 강점·전문성을 강화하세요.)
            
        2. **시청자 피드백 반영**
            
            (댓글, DM, 반응 패턴을 분석해 개선 포인트를 다음 콘텐츠에 반영하세요.)
            
        3. **적극적으로 소통하며 콘텐츠 품질 개선**
            
            (팔로워 및 크리에이터와 적극적으로 소통하며 채널 활성도를 늘리고, 콘텐츠의 세부 요소를 점검하고 개선하세요.)
            
        4. **35개의 구체적인 콘텐츠 기획 및 대본(내용) 작성**
            
            (강점을 반영하고, 개선·피드백을 적용해 더욱 완성도 있는 기획을 하세요.)
            
        5. **35개의 콘텐츠 업로드 완료**
            
            (최종 점검 후 업로드하세요.)
            

    ---

    - **메인퀘스트 5단계 : 35개의 콘텐츠를 업로드하며 브랜드 제휴·광고·협찬·구독 등 수익화를 시도한다**
        1. **채널과 관련성 높은 브랜드·업체 조사**
            
            (내 컨텐츠의 주제와 관련 있고 협찬·광고 가능성이 있는 업체나 브랜드를 조사하세요.)
            
        2. **운영중인 플랫폼 주요 수익화 방식  파악**
            
            (운영중인 플랫폼의 주요 수익원·수익화 및 광고·협찬 방법을 파악하세요. )
            
        3. **35개의 구체적인 콘텐츠 기획 및 대본(내용) 작성**
            
            (브랜드와 연계될 수 있거나 전문성을 보여줄 수 있는 기획을 반영하세요.)
            
        4. **35개의 콘텐츠 업로드 완료**
            
            (최종 점검 후 업로드하세요.)
            
        5. **수익화·협찬 시도**
            
            (최소 5곳 이상의 기업에 협찬·광고 제안서를 제작해 전송하는 등 각 플랫폼의 수익화 방식을 실제로 적용해보세요. 당장 성과가 없더라도 이러한 경험은 채널의 방향성과 콘텐츠 성장에 큰 도움이 됩니다. )

        미션 스텝은 5개 생성하고, 각 스텝은 구체적이고 실행 가능한 단계여야 합니다.
        스텝은 순차적으로 진행되어야 하며, 이전 스텝을 완료해야 다음 스텝으로 진행할 수 있어야 합니다.
        """

        return ChatPromptTemplate.from_messages([
            ("system", system_prompt),
            ("human", user_prompt)
        ])
